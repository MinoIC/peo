<div class="panel panel-default">
    <div class="panel-body">
        <div class="clearfix">
            <a class="pull-left m-right-sm" href="{{.ConsoleHostName}}/server/{{.ServerIdentifier}}" target="_blank">
                <img src="{{if .ServerIsOnline}}{{if .ServerIconData}}{{.ServerIconData}}
                    {{else}}../static/img/Minecraft_256px.png{{end}}{{else}}../static/img/Plug_246px.png{{end}}"
                     class="img-circle" style="width:52px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="点击打开控制台">
            </a>
            {{if .ServerIsOnline}}
                <span class="label label-success pull-right">在线 {{.ServerPlayerOnline}}/{{.ServerPlayerMax}}</span>
            {{else}}
                <span class="label label-danger pull-right">离线</span>
            {{end}}
            <strong class="block">{{.ServerName}} <span class="label label-default">{{.ServerIdentifier}}</span></strong>
            <small class="text-muted">到期时间：{{.ServerEXP}}</small><br>
            {{if .ServerVersion}}
                <small class="text-muted pull-right">版本：{{.ServerVersion}}</small>
            {{end}}
            <small class="text-muted">服务器地址：{{.ServerHostName}}</small>
        </div>
        <div class="seperator"></div>
        <p>
            {{.ServerDescription}}
        </p>
        {{if .ServerFMLType}}
            <a class="btn btn-default btn-xs pull-left" role="button" data-toggle="modal" href="#{{.ServerIdentifier}}{{.ServerIndex}}MOD"> <i class="fa fa-info-circle fa-lg"></i> MOD列表 </a>
        {{end}}
        <a class="btn btn-default btn-xs pull-right" role="button" data-toggle="modal" href="#{{.ServerIdentifier}}{{.ServerIndex}}RENEW"> <i class="fa fa-check fa-lg"></i> 续费</a>
        <a class="btn btn-default btn-xs pull-right" role="button" data-toggle="modal" href="#{{.ServerIdentifier}}{{.ServerIndex}}CP"><i class="fa fa-wrench fa-lg"></i> 重装服务端</a>
    </div>
    <div class="modal fade" id="{{.ServerIdentifier}}{{.ServerIndex}}MOD" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4>MOD ({{.ServerModCount}}个) 加载器：{{.ServerFMLType}} </h4>
                </div>
                <div class="modal-body">
                    {{range .ServerModList}}
                        <p>{{.ModText}}</p>
                    {{end}}
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>
    <div class="modal fade" id="{{.ServerIdentifier}}{{.ServerIndex}}RENEW" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4>使用预购买的KEY续费服务器</h4>
                    <small>您可以在淘宝店或发卡平台购买KEY，每个KEY只能使用一次。<br>如果KEY失效不能使用请联系网站管理员！</small>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal no-margin form-border">
                        <div class="form-group">
                            <div class="col-lg-2 control-label">
                                <label>激活码</label>
                            </div>
                            <div class="col-lg-10">
                                <input type="text" class="form-control input-sm" name="key"
                                       placeholder="输入您购买到的激活码" id="{{.ServerIdentifier}}{{.ServerIndex}}KEY">
                            </div>
                            <div class="col-lg-2"></div>
                        </div>
                        <!-- choose -->
                    </form>
                </div>
                <div class="modal-footer">
                    <a class="btn btn-info btn-sm" onclick="
                            $.get('{{.ServerRenewURL}}/'+$('#{{.ServerIdentifier}}{{.ServerIndex}}KEY').val(),function(data) {
                            if (data==='SUCCESS'){nn
                            alert('续费成功！');
                            parent.location.reload();
                            }else{
                            alert('续费失败：'+data);
                            }
                            })
                            "> 确认续费</a>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div>
    <div class="modal fade" id="{{.ServerIdentifier}}{{.ServerIndex}}CP" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4>更换预设服务器包</h4>
                    您可以选择我们预设的一些服务器整合包来作为快捷启动选项<br>
                    一旦选择新的或与原来相同的整合包并点击&ldquo;确认安装&rdquo;按钮，我们将<strong class="text-danger">清空服务器数据</strong>并进行安装操作<br>
                    若等待一分钟扔未安装成功（以服务器文件为准），请尝试重试或联系管理员
                    由于这一过程<strong class="text-danger">不可逆</strong>，请您确认<strong class="text-danger">没有贵重数据或已备份</strong>！
                </div>
                <div class="modal-body">
                    <form class="form-horizontal no-margin form-border">
                        <div class="form-group">
                            <div class="col-lg-2 control-label">
                                <label>整合包</label>
                            </div>
                            <div class="col-lg-10">
                                <select class="form-control" id="{{.ServerIdentifier}}{{.ServerIndex}}REIN">
                                    {{range .ServerPacks}}
                                        <option value="{{.PackID}}">
                                            {{.PackName}}
                                        </option>
                                    {{end}}
                                </select>
                            </div>
                            <div class="col-lg-2"></div>
                        </div>
                        <!-- choose -->
                    </form>
                </div>
                <div class="modal-footer">
                    <a class="btn btn-danger btn-sm" onclick="
                            $.get('{{.ServerReinstallURL}}/'+$('#{{.ServerIdentifier}}{{.ServerIndex}}REIN').val(),function(data) {
                            if (data==='SUCCESS'){
                            alert('重装成功！');
                            parent.location.reload();
                            }else{
                            alert('重装失败：'+data);
                            }
                            })
                            "> 确认安装</a>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div>
</div>